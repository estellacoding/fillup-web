# 需求文件

## 簡介

FillUp! 智慧提醒系統將被動的飲水追蹤轉化為智慧型、適應性的通知系統，能學習使用者行為並最佳化提醒時機。系統尊重使用者的專注時間與隱私，同時提供有用且不干擾的飲水提醒，能適應個人模式與環境因素。

## 詞彙表

- **智慧提醒系統 (Smart_Reminder_System)**: 管理飲水提醒的智慧型通知系統
- **使用者檔案 (User_Profile)**: 個別使用者的飲水模式、偏好設定與行為資料
- **專注模式 (Focus_Mode)**: 使用者啟動的狀態，在專注期間暫時停用提醒
- **活動時段 (Activity_Period)**: 使用者定義的提醒啟用時間窗口（例：09:00-18:00）
- **學習引擎 (Learning_Engine)**: 分析使用者行為並最佳化提醒時機的元件
- **通知服務 (Notification_Service)**: 負責透過各種管道傳送提醒的服務
- **達標率 (Achievement_Rate)**: 每日飲水目標成功完成的百分比
- **行事曆整合 (Calendar_Integration)**: 可選的使用者行事曆連接，避免會議中斷
- **天氣服務 (Weather_Service)**: 提供溫度資料以進行適應性提醒的外部服務

## 需求

### 需求 1

**使用者故事：** 身為忙碌的專業人士，我希望能設定提醒頻率與活動時間，以便只在適當時間收到有用的飲水提示。

#### 驗收標準

1. WHEN 使用者存取提醒設定時，智慧提醒系統 SHALL 顯示 1 到 4 小時的頻率選項
2. WHEN 使用者設定活動時段時，智慧提醒系統 SHALL 接受提醒啟用時間窗口的開始與結束時間
3. WHEN 目前時間在活動時段之外時，智慧提醒系統 SHALL 抑制所有提醒通知
4. WHERE 睡眠模式啟用時，智慧提醒系統 SHALL 在設定的睡眠時間自動停用提醒
5. 智慧提醒系統 SHALL 將所有提醒偏好設定儲存至使用者檔案

### 需求 2

**使用者故事：** 身為專注工作者，我希望在重要任務期間暫時暫停提醒，以便能專心工作而不被打斷，同時維持飲水目標。

#### 驗收標準

1. WHEN 使用者啟動專注模式時，智慧提醒系統 SHALL 立即暫停所有提醒通知
2. WHILE 專注模式啟用時，智慧提醒系統 SHALL 在應用程式介面顯示專注狀態
3. WHEN 專注模式持續時間到期時，智慧提醒系統 SHALL 自動恢復正常提醒排程
4. WHERE 行事曆整合啟用時，智慧提醒系統 SHALL 在排定會議期間自動啟動專注模式
5. 智慧提醒系統 SHALL 允許手動啟動專注模式 30 分鐘、1 小時、2 小時或自訂持續時間

### 需求 3

**使用者故事：** 身為注重健康的個人，我希望系統能學習我的飲水模式並最佳化提醒時機，以便通知在我最可能正面回應時送達。

#### 驗收標準

1. WHEN 使用者在提醒後 15 分鐘內記錄飲水時，學習引擎 SHALL 將該時機標記為成功
2. WHEN 使用者持續忽略特定時間的提醒時，學習引擎 SHALL 降低該時段的提醒頻率
3. WHILE 分析使用者模式時，學習引擎 SHALL 根據歷史回應資料識別最佳提醒間隔
4. 學習引擎 SHALL 調整提醒時機以在 7 天滾動視窗內最大化達標率
5. WHERE 資料不足時，學習引擎 SHALL 使用預設提醒模式直到累積足夠的學習資料

### 需求 4

**使用者故事：** 身為行動應用程式使用者，我希望收到有趣且多樣化的提醒通知，以便保持動力而不會因重複訊息感到厭煩。

#### 驗收標準

1. WHEN 發送提醒時，通知服務 SHALL 從至少 20 則激勵訊息的資料庫中隨機選擇
2. WHEN 使用者進度超過 50% 時，通知服務 SHALL 在提醒訊息中包含進度百分比
3. WHEN 使用者落後每日目標超過 25% 時，通知服務 SHALL 發送溫和的鼓勵訊息
4. 通知服務 SHALL 支援標準通知、靜音通知與僅震動提醒
5. WHERE 使用者達標率超過 80% 時，通知服務 SHALL 降低提醒頻率 25%

### 需求 5

**使用者故事：** 身為作息時間變化的使用者，我希望平日與週末有不同的提醒模式，以便系統適應我的生活方式變化。

#### 驗收標準

1. WHEN 使用者設定週末模式時，智慧提醒系統 SHALL 為週六與週日套用不同的提醒頻率
2. WHEN 偵測到週末時，智慧提醒系統 SHALL 自動切換至週末提醒模式
3. WHERE 假日模式啟用時，智慧提醒系統 SHALL 將週末模式套用至指定假日日期
4. 智慧提醒系統 SHALL 允許獨立設定平日與週末的活動時段
5. WHILE 在週末模式時，智慧提醒系統 SHALL 維持週末專屬模式的學習能力

### 需求 6

**使用者故事：** 身為對天氣變化敏感的人，我希望在炎熱天氣時增加提醒，以便在環境條件增加水分需求時維持適當的水分補充。

#### 驗收標準

1. WHEN 天氣服務回報溫度超過 25°C (77°F) 時，智慧提醒系統 SHALL 增加提醒頻率 25%
2. WHEN 天氣服務回報溫度超過 30°C (86°F) 時，智慧提醒系統 SHALL 增加提醒頻率 50%
3. WHERE 天氣資料無法取得時，智慧提醒系統 SHALL 繼續使用標準提醒模式
4. 智慧提醒系統 SHALL 快取天氣資料最多 4 小時以減少 API 呼叫
5. WHEN 天氣調整啟用時，通知服務 SHALL 在提醒訊息中包含天氣背景資訊

### 需求 7

**使用者故事：** 身為注重隱私的使用者，我希望能控制資料收集與行事曆存取，以便在維持隱私偏好的同時使用智慧功能。

#### 驗收標準

1. WHEN 使用者拒絕行事曆權限時，智慧提醒系統 SHALL 僅以手動專注模式運作
2. WHEN 使用者啟用行事曆整合時，智慧提醒系統 SHALL 要求最少必要權限
3. 智慧提醒系統 SHALL 將所有學習資料儲存在使用者裝置本機
4. WHERE 雲端同步停用時，智慧提醒系統 SHALL 僅使用本機資料維持完整功能
5. 智慧提醒系統 SHALL 在設定中提供清楚的隱私控制並說明資料使用方式

### 需求 8

**使用者故事：** 身為目標導向的使用者，我希望系統根據我的成功率調整提醒強度，以便獲得適當支援而不會被過多通知淹沒。

#### 驗收標準

1. WHEN 達標率連續 3 天低於 60% 時，智慧提醒系統 SHALL 增加提醒頻率 20%
2. WHEN 達標率連續 7 天超過 90% 時，智慧提醒系統 SHALL 降低提醒頻率 15%
3. WHILE 監控達標率時，智慧提醒系統 SHALL 基於 7 天滾動平均計算比率
4. 智慧提醒系統 SHALL 在穩定表現 14 天後將頻率調整重設為基準值
5. WHERE 手動頻率覆寫設定時，智慧提醒系統 SHALL 尊重使用者偏好勝過自動調整